(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n.p+"static/media/search.97161617.svg"},function(e,t,n){e.exports=n(18)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(3),i=n.n(r),s=(n(14),n(4)),o=n(5),u=n(6),l=n.n(u),h=function(){function e(){Object(s.a)(this,e),this.client=void 0,this.auth=!1,this.client=new l.a}return Object(o.a)(e,[{key:"authenticateUser",value:function(){var e=window.location.hash.substring(1).split("&")[0].split("=")[1];window.location.hash="";e?(this.client.setAccessToken(e),this.auth=!0):window.location.href="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("41e10dc3f3594667b190b3681fdee8ca","&redirect_uri=").concat("https://spotifyroulette.paulocorreia.me","&scope=").concat(["user-top-read"].join("%20"),"&response_type=token&show_dialog=true")}},{key:"searchTrack",value:function(e){return this.client.searchTracks(e)}},{key:"isAuthenticated",value:function(){return this.auth}}]),e}(),f=(n(15),n(1)),m=(n(16),n(7)),d=n.n(m),p=(n(17),function(e){return c.a.createElement("div",{className:"result"},c.a.createElement("img",{className:"cover",src:e.cover,alt:"".concat(e.title," Album Cover")}),c.a.createElement("div",{className:"info"},c.a.createElement("h2",{className:"title"},e.title),c.a.createElement("p",{className:"artist"},e.artist)))}),v=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)(""),r=Object(f.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(""),u=Object(f.a)(o,2),l=u[0],h=u[1],m=Object(a.useState)([]),v=Object(f.a)(m,2),b=v[0],w=v[1];Object(a.useEffect)(function(){t.current&&(t.current.addEventListener("focus",function(){return g(!0)}),t.current.addEventListener("focusout",function(){return g(!1)}))});var g=function(e){e&&0===l.length?s("focused"):e||l.length>0?s("focused"):(w([]),s(""))},E=b.map(function(e,t){return c.a.createElement(p,Object.assign({key:t},e))});return c.a.createElement("div",{className:"input ".concat(i),style:{height:"".concat(88+64*b.length+(b.length?8:0),"px")}},c.a.createElement("div",{className:"searchBar"},c.a.createElement("input",{type:"text",ref:t,value:l,onChange:function(e){h(e.target.value)},placeholder:"Search"}),c.a.createElement("button",{onClick:function(){null!==l&&""!==l&&e.spotify.searchTrack(l).then(function(e){e.tracks.items.length>0&&w(e.tracks.items.slice(0,3).map(function(e){return{title:e.name,artist:e.artists[0].name,cover:e.album.images[0].url}}))})}},c.a.createElement("img",{src:d.a,alt:""}))),!!b.length&&c.a.createElement("div",{className:"results"},E))},b=function(){var e=Object(a.useRef)(new h);return Object(a.useEffect)(function(){e.current.isAuthenticated()||e.current.authenticateUser()},[]),c.a.createElement("div",{className:"app"},c.a.createElement(v,{spotify:e.current}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[8,1,2]]]);
//# sourceMappingURL=main.0ef8fe68.chunk.js.map