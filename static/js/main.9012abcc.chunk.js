(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,t,n){},,,,,function(e,t,n){e.exports=n.p+"static/media/search.97161617.svg"},,function(e,t,n){e.exports=n.p+"static/media/roulette.dc8d006c.svg"},function(e,t,n){e.exports=n(28)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(5),i=n.n(r),o=(n(17),n(1)),s=n(6),l=n(7),u=n(8),m=n.n(u),d=function(){function e(){Object(s.a)(this,e),this.client=void 0,this.auth=!1,this.client=new m.a}return Object(l.a)(e,[{key:"authenticateUser",value:function(){var e=window.location.hash.substring(1).split("&")[0].split("=")[1];window.location.hash="";e?(this.client.setAccessToken(e),this.auth=!0):window.location.href="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("41e10dc3f3594667b190b3681fdee8ca","&redirect_uri=").concat("https://spotifyroulette.paulocorreia.me","&scope=").concat(["user-top-read"].join("%20"),"&response_type=token&show_dialog=true")}},{key:"searchTrack",value:function(e){return this.client.searchTracks(e)}},{key:"isAuthenticated",value:function(){return this.auth}}]),e}(),f=(n(18),n(19),n(9)),h=n.n(f),p=(n(20),function(e){return c.a.createElement("div",{className:"result"},c.a.createElement("img",{className:"cover",src:e.cover,alt:"".concat(e.title," Album Cover")}),c.a.createElement("div",{className:"info"},c.a.createElement("h2",{className:"title"},e.title),c.a.createElement("p",{className:"artist"},e.artist)))}),b=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)(""),r=Object(o.a)(n,2),i=r[0],s=r[1],l=Object(a.useState)(""),u=Object(o.a)(l,2),m=u[0],d=u[1],f=Object(a.useState)([]),b=Object(o.a)(f,2),v=b[0],g=b[1];Object(a.useEffect)(function(){t.current&&(t.current.addEventListener("focus",function(){return k(!0)}),t.current.addEventListener("focusout",function(){return k(!1)}))});var k=function(e){e&&0===m.length?s("focused"):e||m.length>0?s("focused"):(g([]),s(""))},E=v.map(function(e,t){return c.a.createElement(p,Object.assign({key:t},e))});return c.a.createElement("div",{className:"input ".concat(i),style:{height:"".concat(88+64*v.length+(v.length?8:0),"px")}},c.a.createElement("div",{className:"searchBar"},c.a.createElement("input",{type:"text",ref:t,value:m,onChange:function(e){d(e.target.value)},placeholder:"Search"}),c.a.createElement("button",{onClick:function(){null!==m&&""!==m&&e.spotify.searchTrack(m).then(function(e){e.tracks.items.length>0&&g(e.tracks.items.slice(0,3).map(function(e){return{title:e.name,artist:e.artists[0].name,cover:e.album.images[0].url}}))})}},c.a.createElement("img",{src:h.a,alt:""}))),!!v.length&&c.a.createElement("div",{className:"results"},E))},v=n(10),g=n.n(v),k=(n(4),n(11)),E=n.n(k),w=function(e){return c.a.createElement("div",{className:"album",style:{transform:"rotate(".concat(-60*e.position,"deg)")}},c.a.createElement("img",{src:e.src,alt:""}))},y=function(e){var t=[e.blank,e.blank,e.blank,e.blank,e.blank,e.bullet].map(function(e,t){return c.a.createElement(w,{key:t,src:e,position:t})});return c.a.createElement("div",{className:"roulette ".concat(e.state)},t,c.a.createElement("img",{src:E.a,alt:""}),c.a.createElement(g.a,{src:"/audio/load.mp3",playing:"load"===e.state}))},j=function(){var e=Object(a.useRef)(new d),t=Object(a.useState)("idle"),n=Object(o.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)(function(){},[]),c.a.createElement("div",{className:"app"},c.a.createElement(b,{spotify:e.current}),c.a.createElement("button",{onClick:function(){return i("load")}},"Try me"),c.a.createElement(y,{blank:"https://upload.wikimedia.org/wikipedia/en/5/50/Sgt._Pepper%27s_Lonely_Hearts_Club_Band.jpg",bullet:"https://upload.wikimedia.org/wikipedia/en/4/42/Beatles_-_Abbey_Road.jpg",state:r}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[12,1,2]]]);
//# sourceMappingURL=main.9012abcc.chunk.js.map