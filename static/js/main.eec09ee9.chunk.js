(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t){e.exports="data:image/png;base64,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"},,,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){e.exports=n.p+"static/media/search.9df51d4e.svg"},function(e,t,n){e.exports=n.p+"static/media/settings.85c5dd08.svg"},function(e,t,n){e.exports=n.p+"static/media/roulette.f61d2f24.svg"},function(e,t,n){e.exports=n.p+"static/media/reload.2991144a.svg"},function(e,t,n){e.exports=n.p+"static/media/reshoot.99a86319.svg"},function(e,t,n){e.exports=n.p+"static/media/warning.6b87cfa4.svg"},function(e,t,n){e.exports=n.p+"static/media/close.e85191c6.svg"},function(e,t,n){e.exports=n.p+"static/media/logo.9d214e51.png"},,,function(e,t,n){e.exports=n(47)},,,,,function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),i=n(16),s=n.n(i),o=(n(33),n(11)),u=n(1),l=n(26),A=n(7),f=n(2),m=n.n(f),d=n(5),h=n(3),p=n(4),g=n(17),b=n.n(g),v=n(8),E=n.n(v),O=function(){function e(t){Object(h.a)(this,e),this.client=void 0,this.auth=!1,this.deviceId="",this.controller=void 0,this.client=new b.a,this.controller=t}return Object(p.a)(e,[{key:"setController",value:function(e){this.controller=e}},{key:"authenticateUser",value:function(){var e=window.location.hash.substring(1).split("&")[0].split("=")[1];window.location.hash="",window.history.pushState("",document.title,window.location.pathname+window.location.search);e?(this.client.setAccessToken(e),this.auth=!0):window.location.href="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("41e10dc3f3594667b190b3681fdee8ca","&redirect_uri=").concat("https://paulocorreia.me/spotifyroulette/","&scope=").concat(["user-top-read","user-modify-playback-state","user-read-playback-state"].join("%20"),"&response_type=token&show_dialog=true")}},{key:"search",value:function(){var e=Object(d.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.controller.search(t,this.client);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"play",value:function(e){""!==this.deviceId&&void 0!==e&&(this.client.setShuffle(e.shuffle).catch(),this.client.play(Object(A.a)({device_id:this.deviceId},e.playParameters)).catch())}},{key:"hasPlayerOpen",value:function(){var e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.getMyDevices();case 2:if(0!==(t=e.sent).devices.length){e.next=7;break}return e.abrupt("return",!1);case 7:if(null===t.devices[0].id){e.next=12;break}return this.deviceId=t.devices[0].id,e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"searchRandomTrack",value:function(){var e=""+"aeiou"[Math.floor(Math.random()*"aeiou".length)]+"abcdefghijklmnopqrstuvwxyz "[Math.floor(Math.random()*"abcdefghijklmnopqrstuvwxyz ".length)];return this.client.search(e,["track"],{offset:Math.floor(999*Math.random()),limit:50})}},{key:"getRandomTrack",value:function(){var e=Object(d.a)(m.a.mark(function e(){var t,n,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.searchRandomTrack();case 2:if(!((t=e.sent).tracks&&t.tracks.items.length>0)){e.next=9;break}return n=t.tracks.items[Math.floor(50*Math.random())],a={title:n.name,author:n.artists[0].name,image:n.album.images.length>0?n.album.images[0].url:E.a,playParameters:{uris:[n.uri]},shuffle:!1},e.abrupt("return",a);case 9:return e.abrupt("return",this.getRandomTrack());case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isAuthenticated",value:function(){return this.auth}}]),e}(),k=(n(38),n(39),n(18)),y=n.n(k),N=n(19),j=n.n(N),T=function(e){var t=Object(r.useRef)(null),n=Object(r.useState)(""),a=Object(u.a)(n,2),i=a[0],s=a[1],o=Object(r.useCallback)(function(){null!==i&&""!==i&&e.onSearch(i)},[i,e]);Object(r.useEffect)(function(){var e=t.current,n=function(e){"Enter"===e.key&&o()};return null!==e&&e.addEventListener("keypress",n),function(){null!==e&&e.removeEventListener("keypress",n)}},[o]),Object(r.useEffect)(function(){e.locked&&s("")},[e.locked]);return c.a.createElement("div",{className:"buttonContainer"},c.a.createElement("div",{className:"searchBar"},c.a.createElement("button",{onClick:o},c.a.createElement("img",{src:y.a,alt:""})),c.a.createElement("input",{type:"text",ref:t,value:i,onChange:function(t){s(t.target.value),""===t.target.value&&e.onQueryChange()},placeholder:e.tooltip,disabled:e.locked})),c.a.createElement("img",{className:"settingsButton",src:j.a,onClick:e.onSettingsClick,alt:""}))},w=n(9),S=(n(14),n(20)),C=n.n(S);a="/spotifyroulette/";var R,I,P=function(e){return function(e){var t=Object(r.useRef)(new w.Howl({src:a+"audio/load.mp3"}));Object(r.useEffect)(function(){e&&t.current.play()},[e])}(e.loading),function(e,t){var n=Object(r.useRef)(new w.Howl({src:t?a+"audio/shot.mp3":a+"audio/blank.mp3"}));Object(r.useEffect)(function(){e&&n.current.play()},[e])}(e.shot,e.isBullet),c.a.createElement("div",{className:"container",style:{transform:"rotate(".concat(-60*e.position,"deg)")}},c.a.createElement("div",{className:"cover ".concat(e.load&&"load")},c.a.createElement("img",{className:e.shot?"shot":"",src:e.src,alt:""})))};!function(e){e.RESET="reset",e.RESETTING="resetting",e.IDLE="idle",e.WAITING="waiting",e.LOAD="load",e.LOADING="loading",e.READY="ready",e.SPIN="spin",e.SPINING="spining",e.SHOOTING="shooting",e.SHOT="shot"}(R||(R={})),function(e){e.EMPTY="empty",e.HALF="half",e.FULL="full"}(I||(I={}));var Q,L=function(e){var t=Object(r.useState)(-1),n=Object(u.a)(t,2),i=n[0],s=n[1],l=Object(r.useState)(0),A=Object(u.a)(l,2),f=A[0],m=A[1],d=Object(r.useState)(I.EMPTY),h=Object(u.a)(d,2),p=h[0],g=h[1],b=function(e){var t=Object(r.useState)(-1),n=Object(u.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)(function(){setTimeout(function(){e?a>=0&&a<6&&i():(a>=0&&a<4&&i(),5===a&&i())},1500)},[a,e]);var i=function(){return c(function(e){return e+1})};return[a,i,function(){return c(-1)}]}(e.randomBullet),v=Object(u.a)(b,3),E=v[0],O=v[1],k=v[2];!function(e){var t=Object(r.useRef)(new w.Howl({src:a+"audio/spin.mp3"}));Object(r.useEffect)(function(){e&&t.current.play()},[e])}(e.state===R.SPINING);var y=e.blanks.length>0?[].concat(Object(o.a)(e.blanks),[e.bullet]).map(function(t,n){return c.a.createElement(P,{key:n,src:void 0!==t?t.image:"",position:n,shot:n===i&&e.state===R.SHOOTING,load:n<=E,loading:n===E&&e.state===R.LOADING,isBullet:5===n?!e.dangerMode:e.dangerMode})}):null,N=function(t,n){O(),setTimeout(function(){t()},n),e.setState(R.LOADING)},j=function(){s(-1),m(0),k(),g(I.EMPTY)},T=function(e){document.documentElement.style.setProperty("--previous","".concat(e))};Object(r.useEffect)(function(){if(e.state===R.LOAD)e.randomBullet?(j(),N(function(){m(5),e.setState(R.READY),g(I.FULL),T(5)},8300)):p===I.EMPTY?N(function(){g(I.HALF),m(5),e.setState(R.IDLE)},7500):p===I.HALF?N(function(){e.setState(R.READY),g(I.FULL),T(5)},500):j();else if(e.state===R.SPIN&&p===I.FULL){var t=S();setTimeout(function(){m(t),e.setState(R.SHOOTING)},1700),e.setState(R.SPINING)}else e.state===R.SHOOTING?(T(i),e.onShoot(i),e.setState(R.SHOT)):e.state===R.RESET&&(j(),setTimeout(function(){e.setState(R.IDLE)},500),e.setState(R.RESETTING))});var S=function(){var e=Math.floor(6*Math.random());return document.documentElement.style.setProperty("--next","".concat(e)),s(e),e};return c.a.createElement("div",{className:"roulette ".concat(e.state," ").concat(p),style:{transform:"rotate(calc(60deg * ".concat(f,"))")}},y,c.a.createElement("img",{src:C.a,alt:""}))},X=(n(40),n(21)),M=n.n(X),z=n(22),D=n.n(z),Y=function(e){return c.a.createElement("div",{className:"actionButtonContainer ".concat(e.visible?"visible":"")},c.a.createElement("button",{className:"actionButton",onClick:e.onResetClick},c.a.createElement("img",{src:M.a,alt:""}),"Reset Gun."),c.a.createElement("button",{className:"actionButton",onClick:e.onRerollClick},c.a.createElement("img",{src:D.a,alt:""}),"Shoot again!"))},F=function e(t,n){Object(h.a)(this,e),this.display=t,this.results=n},U=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,[{key:"search",value:function(){var e=Object(d.a)(m.a.mark(function e(t,n){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchTracks(t);case 2:return a=e.sent,e.abrupt("return",new F(!0,a.tracks.items.slice(0,3).map(this.formatResult)));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"formatResult",value:function(e){return{title:e.name,author:e.artists[0].name,image:e.album.images.length>0?e.album.images[0].url:E.a,playParameters:{uris:[e.uri]},shuffle:!1}}}]),e}(),J=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,[{key:"search",value:function(){var e=Object(d.a)(m.a.mark(function e(t,n){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchAlbums(t);case 2:return a=e.sent,e.abrupt("return",new F(!0,a.albums.items.slice(0,3).map(this.formatResult)));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"formatResult",value:function(e){return{title:e.name,author:e.artists[0].name,image:e.images.length>0?e.images[0].url:E.a,playParameters:{context_uri:e.uri},shuffle:!1}}}]),e}(),B=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,[{key:"search",value:function(){var e=Object(d.a)(m.a.mark(function e(t,n){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchArtists(t);case 2:return a=e.sent,e.abrupt("return",new F(!0,a.artists.items.slice(0,3).map(this.formatResult)));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"formatResult",value:function(e){return{title:e.name,author:"Artist",image:e.images.length>0?e.images[0].url:E.a,playParameters:{context_uri:e.uri},shuffle:!0}}}]),e}(),H=(n(41),n(23)),G=n.n(H),x=function(e){return c.a.createElement("div",{className:"warningDialog ".concat(e.visible?"visible":"hidden")},c.a.createElement("img",{src:G.a,alt:"Warning"}),c.a.createElement("h2",null,"Spotify not found"),c.a.createElement("p",null,"Make sure you have spotify open and press retry. If you continue no song will play."),c.a.createElement("button",{className:"retry",onClick:e.onRetryClick},"Retry"),c.a.createElement("button",{className:"continue",onClick:e.onContinueClick},"continue"))},K=(n(42),n(24)),V=n.n(K),q=(n(43),function(e){var t=e.chips.map(function(t,n){return c.a.createElement("div",{key:n,className:"chip ".concat(n===e.selected?"selected":""),onClick:function(){return e.onSelect(n)}},t)});return c.a.createElement("div",{className:"chipContainer"},t)}),W=n(49),Z=(n(44),function(e){var t=Object(W.a)();return c.a.createElement("div",{className:"switch"},c.a.createElement("input",{id:t,className:"cmn-toggle cmn-toggle-round",type:"checkbox",defaultChecked:e.value,onChange:e.onToggle,disabled:e.disabled}),c.a.createElement("label",{htmlFor:t}))}),_=n(27),$=function(e){return c.a.createElement("div",{className:"settingsContainer ".concat(e.visible?"visible":"hidden"),onClick:e.toggleVisibility},c.a.createElement("div",{className:"settingsDialog",onClick:function(e){return e.stopPropagation()}},c.a.createElement("h2",null,"Settings"),c.a.createElement("h3",null,"Bullet Type"),c.a.createElement(q,{selected:e.settings.bulletType,chips:["Songs","Albuns","Artists"],onSelect:function(t){e.setSettings(function(e){return Object(A.a)({},e,{bulletType:t})})}}),c.a.createElement("div",{className:"row"},c.a.createElement("h3",{className:e.settings.dangerMode?"disabled":""},"Random Bullet"),c.a.createElement(Z,{value:e.settings.randomBullet,onToggle:function(){e.setSettings(function(e){return Object(A.a)({},e,{randomBullet:!e.randomBullet})})},disabled:e.settings.dangerMode})),c.a.createElement("div",{className:"row"},c.a.createElement("h3",null,"Danger Mode"),c.a.createElement(Z,{value:e.settings.dangerMode,onToggle:function(){e.setSettings(function(e){return Object(A.a)({},e,{dangerMode:!e.dangerMode})})},disabled:!1})),c.a.createElement("div",{className:"github"},c.a.createElement("p",null,"Source on GitHub"),c.a.createElement(_.a,{href:"https://github.com/pipas/spotifyroulette","data-icon":"octicon-star","aria-label":"Star pipas/spotifyroulette on GitHub"},"Star")),c.a.createElement("img",{className:"close",src:V.a,onClick:e.toggleVisibility,alt:""})))},ee=(n(15),function(e){return c.a.createElement("div",{className:"result",onClick:e.onClick},c.a.createElement("img",{className:"cover",src:e.image,alt:"".concat(e.title," Album Cover")}),c.a.createElement("div",{className:"info"},c.a.createElement("h2",{className:"title"},e.title),c.a.createElement("p",{className:"artist"},e.author)))}),te=function(e){var t=e.searchResult.results.map(function(t,n){return c.a.createElement(ee,Object.assign({key:Math.floor(1e4*Math.random())},t,{onClick:function(){return t=n,void e.onResultClick(t);var t}}))});return e.searchResult.display?e.searchResult.results.length>0?c.a.createElement("div",{className:"results"},t):c.a.createElement("div",{className:"results"},c.a.createElement("div",{className:"noResult"},c.a.createElement("h2",{className:"title"},"No results found."))):null},ne=(n(46),n(25)),ae=n.n(ne),re=function(){return c.a.createElement("div",{className:"siteTitle"},c.a.createElement("img",{src:ae.a,alt:""}),c.a.createElement("div",null,c.a.createElement("h1",null,"Spotify"),c.a.createElement("h1",null,"Roulette")))};!function(e){e[e.Songs=0]="Songs",e[e.Albums=1]="Albums",e[e.Artists=2]="Artists"}(Q||(Q={}));var ce=function(){var e=Object(r.useRef)(new O(new U)),t=Object(r.useState)(R.IDLE),n=Object(u.a)(t,2),a=n[0],i=n[1],s=Object(r.useState)(),A=Object(u.a)(s,2),f=A[0],m=A[1],d=Object(r.useState)([]),h=Object(u.a)(d,2),p=h[0],g=h[1],b=function(){var e=Object(l.a)(["settings"]),t=Object(u.a)(e,2),n=t[0],a=t[1],c={bulletType:Q.Songs,randomBullet:!0,dangerMode:!1},i=Object(r.useState)(n.settings?n.settings:c),s=Object(u.a)(i,2);return[s[0],s[1],a]}(),v=Object(u.a)(b,3),E=v[0],k=v[1],y=v[2],N=Object(r.useState)(!1),j=Object(u.a)(N,2),w=j[0],S=j[1],C=Object(r.useState)(new F(!1,[])),I=Object(u.a)(C,2),P=I[0],X=I[1],M=function(e,t,n){var a=Object(r.useState)(),c=Object(u.a)(a,2),i=c[0],s=c[1],o=Object(r.useCallback)(function(){return e.hasPlayerOpen().then(function(e){console.log("checking player open"),s(e),e&&n(R.SPIN)})},[e,n]);return Object(r.useEffect)(function(){t===R.READY&&o()},[o,t]),[i,o,s]}(e.current,a,i),z=Object(u.a)(M,3),D=z[0],H=z[1],G=z[2],K=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return[n,function(){a(!n)}]}(),V=Object(u.a)(K,2),q=V[0],W=V[1];Object(r.useEffect)(function(){switch(E.bulletType){case Q.Songs:e.current.setController(new U);break;case Q.Albums:e.current.setController(new J);break;case Q.Artists:e.current.setController(new B)}y("settings",E)},[E,y]),Object(r.useEffect)(function(){e.current.isAuthenticated()||e.current.authenticateUser(),S(e.current.isAuthenticated())},[w]);var Z=function(e){return[e,e,e,e,e]};return w?c.a.createElement("div",{className:"app"},c.a.createElement(re,null),c.a.createElement("div",{className:"searchContainer"},c.a.createElement(T,{onSearch:function(t){e.current.search(t).then(function(e){return X(e)})},onQueryChange:function(){return X(new F(!1,[]))},onSettingsClick:W,locked:a!==R.IDLE,tooltip:function(){if(a===R.IDLE){if(0!==p.length)return"Search for the bullet!";switch(E.bulletType){case Q.Songs:return"Search for a song to get started";case Q.Albums:return"Search for an album to get started";case Q.Artists:return"Search for an artist to get started"}}else{if(a===R.WAITING)return"Randoming shots...";if(a===R.LOADING)return"Loading weapon...";if(a===R.SHOT)return"Choose an option"}return""}()}),c.a.createElement(te,{searchResult:P,onResultClick:function(t){E.dangerMode?(m(P.results[t]),i(R.WAITING),Promise.all([e.current.getRandomTrack(),e.current.getRandomTrack(),e.current.getRandomTrack(),e.current.getRandomTrack(),e.current.getRandomTrack()]).then(function(e){g(e),i(R.LOAD)})):(E.randomBullet?(g(Z(P.results[t])),e.current.getRandomTrack().then(function(e){m(e)})):0===p.length?g(Z(P.results[t])):m(P.results[t]),i(R.LOAD)),X(new F(!1,[]))}}),c.a.createElement(Y,{visible:a===R.SHOT,onRerollClick:function(){return i(R.READY)},onResetClick:function(){m(void 0),g([]),i(R.RESET)}})),c.a.createElement(L,{blanks:p,bullet:f,state:a,setState:i,randomBullet:E.randomBullet||E.dangerMode,dangerMode:E.dangerMode,onShoot:function(t){e.current.play([].concat(Object(o.a)(p),[f])[t])}}),c.a.createElement(x,{visible:!D&&void 0!==D,onRetryClick:H,onContinueClick:function(){i(R.SPIN),G(!0)}}),c.a.createElement($,{visible:q,toggleVisibility:W,settings:E,setSettings:k})):null};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[28,1,2]]]);
//# sourceMappingURL=main.eec09ee9.chunk.js.map